var carousel={active:null,is_selected:null,$navButton:null,$navButtonActive:null,$row:null,$rowSelected:null,$rowRadioBtnWrap:null,$imageItem:null,$imageItemActive:null,$rowRadioBtn:null,$radioBtnActive:null,$img:null,$imgActive:null,$radioBtn:null,$rowRadioBtnActive:null,controls:{},items:null,init:function(){this.setParams().removeEvent().setEvent()},setParams:function(){return this.active="active",this.is_selected="selected",this.$navButton=$(".nav_button"),this.$navButtonActive=$(".nav_button.active"),this.$rowRadioBtnWrap=$(".slider_row_items_wrap2"),this.$imageItem=$(".slider_row_block_image"),this.$imageItemActive=$(".slider_row_block_image.active"),this.$row=$(".slider_row_block"),this.$rowSelected=$(".slider_row_block.selected"),this.$rowRadioBtn=this.$rowRadioBtnWrap.find(this.$navButton),this.$rowRadioBtnActive=this.$rowRadioBtnWrap.find(this.$navButtonActive),this.$img=this.$rowSelected.find(this.$imageItem),this.$imgActive=this.$rowSelected.find(this.$imageItemActive),this.$radioBtn=this.$rowSelected.find(this.$navButton),this.$radioBtnActive=this.$rowSelected.find(this.$navButtonActive),this.controls={38:"up",40:"down",37:"left",39:"right"},this},setEvent:function(){var e=this;$(document).on("keyup",function(t){e.setParams(),void 0!==e.controls[t.which]&&(t.preventDefault(),e.controlsAction[e.controls[t.which]](e))}),e.clickEvent()},removeEvent:function(){return $(document).off("keyup"),this},removeClassControlsY:function(){var e=this;e.$rowRadioBtn.removeClass(e.active),e.$row.removeClass(e.is_selected)},removeClassControlsX:function(){var e=this;e.$radioBtn.removeClass(e.active),e.$img.removeClass(e.active)},clickEvent:function(){var e=this;e.$navButton.on("click",function(t){t.preventDefault(),e.setParams();var s=$(t.target).index(),i=$(t.target);i.hasClass("slider_row_block_item")?(e.removeClassControlsX(),i.addClass("active"),$(e.$img[s]).addClass(e.active)):i.hasClass("slider_row_item")&&(e.removeClassControlsY(),i.addClass("active"),$(e.$row[s]).addClass(e.is_selected))})},controlsAction:{up:function(e){e.$rowSelected&&(e.$row.first().hasClass(e.is_selected)?(e.removeClassControlsY(),e.$rowRadioBtn.last().addClass(e.active),e.$rowSelected=e.$row.last().addClass(e.is_selected)):e.$rowSelected.prev().length&&(e.removeClassControlsY(),e.$rowRadioBtnActive.prev().addClass(e.active),e.$rowSelected=e.$rowSelected.prev().addClass(e.is_selected)))},down:function(e){e.$rowSelected&&(e.$row.last().hasClass(e.is_selected)?(e.removeClassControlsY(),e.$rowRadioBtn.first().addClass(e.active),e.$rowSelected=e.$row.first().addClass(e.is_selected)):e.$rowSelected.next().length&&(e.removeClassControlsY(),e.$rowRadioBtnActive.next().addClass(e.active),e.$rowSelected=e.$rowSelected.next().addClass(e.is_selected)))},left:function(e){e.$imgActive&&(e.$img.first().hasClass(e.active)?(e.removeClassControlsX(),e.$radioBtn.last().addClass(e.active),e.$imgActive=e.$img.last().addClass(e.active)):e.$imgActive.prev().length&&(e.removeClassControlsX(),e.$radioBtnActive.prev().addClass(e.active),e.$imgActive=e.$imgActive.prev().addClass(e.active)))},right:function(e){e.$imgActive&&(e.$img.last().hasClass(e.active)?(e.removeClassControlsX(),e.$radioBtn.first().addClass(e.active),e.$imgActive=e.$img.first().addClass(e.active)):e.$imgActive.next().length&&(e.removeClassControlsX(),e.$radioBtnActive.next().addClass(e.active),e.$imgActive=e.$imgActive.next().addClass(e.active)))}},pagesVar:function(){var e,t=$("#imageArray"),s=$("#imageArray2"),i=$("#target"),a=$("#target2"),o=t.html(),r=s.html();return i.html(_.template(o,{items:e})),$("#slider_row_block1").addClass("selected"),a.html(_.template(r,{items:e})),$("#slider_row_item1").addClass("active"),this},getPage:function(e){return e-=1,e>=0?$(this.$row).eq(e):void console.error("not valid, enter number > 0")},getPages:function(){return $(this.$row)},addPage:function(){var e=_.map(items,_.clone);items.push(e[1]),carousel.pagesVar().init()},insertPage:function(e){if(e-=1,e>=0){var t=_.map(items,_.clone);items.push(t[e]),carousel.pagesVar().init()}else console.error("not valid, enter number > 0")},removePage:function(e){e-=1,e>=0&&(e<this.$row.length?(items.splice(e,1),carousel.pagesVar().init(),console.log(this.$row.length)):console.error("This page doesn't exist"))}};$(function(){carousel.pagesVar().init()});